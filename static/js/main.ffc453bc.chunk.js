(this["webpackJsonpweather-app"]=this["webpackJsonpweather-app"]||[]).push([[0],{12:function(e,a,t){e.exports=t(23)},17:function(e,a,t){},19:function(e,a,t){},20:function(e,a,t){},22:function(e,a,t){},23:function(e,a,t){"use strict";t.r(a);var n=t(1),c=t.n(n),r=t(7),l=t.n(r),i=(t(17),t(10)),s=t(2),m=t.n(s),o=t(11),u=t(3),d=(t(19),t(20),t(9)),v=t(8),E=t(5),p=t(4),f=t.n(p);var y=function(e){var a=Object(n.useState)({cod:"-100",weather:[{main:"",icon:""}],main:{temp:"",humidity:"",pressure:""},dt:"",sys:{country:"",surise:"",sunset:""},wind:{speed:"",deg:0}}),t=Object(u.a)(a,2),r=t[0],l=t[1],i=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];function s(e){var a=new Date(1e3*e);return i[a.getDay()]+", "+a.toLocaleTimeString().substring(0,5)}Object(n.useEffect)((function(){var a=setInterval((function(){!function(){var a,t;m.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,m.a.awrap(fetch("https://api.openweathermap.org/data/2.5/weather?q=".concat(e.cityName,"&APPID=6b3faa1cc7ff27120415d4457bd66029")));case 2:return a=n.sent,n.next=5,m.a.awrap(a.json());case 5:"404"===(t=n.sent).cod?(alert(t.message),e.deletePageEvent(e.id)):l(t);case 7:case"end":return n.stop()}}))}()}),"-100"===r.cod?1e3:36e5);return function(){return clearInterval(a)}}));var o=c.a.createElement("div",{className:"params"},c.a.createElement("div",{className:"lab"},c.a.createElement("div",null,c.a.createElement("b",null,"Pressure:")),c.a.createElement("div",null,r.main.pressure," hPa")),c.a.createElement("div",{className:"lab"},parseInt(r.main.temp-273,10),"\xb0C"),c.a.createElement("div",{className:"lab"},c.a.createElement("div",null,c.a.createElement("b",null,"Humidity:")),c.a.createElement("div",null,r.main.humidity," %"))),p=r.weather.map((function(e){var a=f()();return c.a.createElement("div",{key:a,className:"weatherState"},c.a.createElement("div",{className:"weatherState__lab"},e.main),c.a.createElement("div",{className:"weatherState__lab"},c.a.createElement("img",{src:"https://openweathermap.org/img/w/".concat(e.icon,".png")})))})),y=c.a.createElement("div",{className:"params"},c.a.createElement("div",{className:"lab"},c.a.createElement(E.c,{size:50})),c.a.createElement("div",{className:"lab"},c.a.createElement("div",null,c.a.createElement("b",null,"Sunset:")),c.a.createElement("div",null,s(r.sys.sunset)))),b=c.a.createElement("div",{className:"params"},c.a.createElement("div",{className:"lab"},c.a.createElement(E.b,{size:50})),c.a.createElement("div",{className:"lab"},c.a.createElement("div",null,c.a.createElement("b",null,"Sunrise:")),c.a.createElement("div",null,s(r.sys.sunrise)))),h=c.a.createElement("div",{className:"params"},c.a.createElement("div",{className:"lab"},c.a.createElement(E.a,{size:50,style:{transform:"rotate(".concat(45+r.wind.deg,"deg)")}})),c.a.createElement("div",{className:"lab"},c.a.createElement("div",null,c.a.createElement("b",null,"Wind speed:")),c.a.createElement("div",null,parseInt(3600*r.wind.speed/1e3,10)," km/h"))),N=!0===e.loc?c.a.createElement(v.a,null):c.a.createElement("span",null),g=!0===e.loc?c.a.createElement("span",null):c.a.createElement("div",{className:"delete",onClick:function(){return e.deletePageEvent(e.id)}},c.a.createElement(d.a,null));return c.a.createElement("div",{className:"tile"},c.a.createElement("div",{className:"title"},c.a.createElement("div",{className:"lab"},c.a.createElement("b",null,e.cityName," ",r.sys.country)," ",N," "),g),c.a.createElement("div",{className:"title"},c.a.createElement("div",{className:"lab"}," ",s(r.dt)," ")),p,o,h,y,b)};t(22);var b=function(e){var a=Object(n.useState)(""),t=Object(u.a)(a,2),r=t[0],l=t[1];function i(){""!==r&&(e.addCity(r),l(""))}return c.a.createElement("div",{className:"bar"},c.a.createElement("input",{type:"text",value:r,placeholder:"Type city's name...",onChange:function(e){l(e.target.value)},onKeyPress:function(e){"Enter"===e.key&&i()}}),c.a.createElement("input",{type:"button",onClick:function(){i()},value:"Add"}))};var h=function(){var e=Object(n.useState)({city:""}),a=Object(u.a)(e,2),t=a[0],r=a[1],l=Object(n.useState)(JSON.parse(localStorage.getItem("cities"))||[]),s=Object(u.a)(l,2),d=s[0],v=s[1];function E(e){v(d.filter((function(a){return a.id!==e?a:null})))}function p(e){!function(e){if(String(t.city).toUpperCase()===String(e).toUpperCase())return!0;var a=!1;return d.map((function(t){a=t.city===String(e).toUpperCase()})),a}(e)?v([].concat(Object(i.a)(d),[{id:"".concat(f()()),city:String(e).toUpperCase(),locate:!1}])):alert("This location is already added to the list!")}Object(n.useEffect)((function(){!function(){var e,a;m.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,m.a.awrap(fetch("http://ip-api.com/json/"));case 2:return e=t.sent,t.next=5,m.a.awrap(e.json());case 5:a=t.sent,r(Object(o.a)({},a,{id:f()()}));case 7:case"end":return t.stop()}}))}()}),[t]),Object(n.useEffect)((function(){localStorage.setItem("cities",JSON.stringify(d))}),[d]);var h=c.a.createElement("header",null,c.a.createElement(b,{addCity:function(e){return p(e)}})),N=d.map((function(e){return c.a.createElement("div",{key:e.id,className:"cityTab"},c.a.createElement(y,{loc:e.locate,cityName:e.city,id:e.id,deletePageEvent:function(e){return E(e)}}))})),g=c.a.createElement("div",{key:t.org,className:"cityTab"},c.a.createElement(y,{loc:!0,cityName:String(t.city).toUpperCase(),id:t.id,deletePageEvent:function(e){return E(e)}}));return c.a.createElement("div",{className:"App"},h,c.a.createElement("div",{className:"citiesList"},g,N))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(c.a.createElement(h,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[12,1,2]]]);
//# sourceMappingURL=main.ffc453bc.chunk.js.map